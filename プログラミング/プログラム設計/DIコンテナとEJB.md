
## EJBとは？

### 特徴
- サーバサイドにおけるコンポーネント技術(DIもそうだけど)
- Beanに種類があるらしい
- エンティティBeanやメッセージ駆動型はあまり利用されずセッションBeanのみ利用されることが多い  
  ↑セッションBeanだけ利用される理由は、セッションBeanによってコードがかなりシンプルにできるからだそう
- 大規模開発で力を発揮しやすいらしい
  
### メリット
- 別々のサーバマシン上で動作するオブジェクト：リモートオブジェクトを呼び出すことができる
    - スケールアウト(サーバの数を増やすことによるサーバ群全体のパフォーマンスの向上)が可能  
        →DBなどのアプリケーション共有リソースのボトルネックがあるので
         パフォーマンスが比例的に向上することはない
    - Web層とビジネス層の間にファイアウォールを配置できる
- 宣言的トランザクション(どのコンポーネントのどのメソッドでどういった種類のトランザクションを
行うかの設定)を実現可能
    - トランザクション管理をソースコードから分離して管理できる
### デメリット
- 構成物の多さ
    - ホームインターフェース
    - コンポーネントインターフェース
- 環境構築の手間
    - アプリケーションサーバの必要性
- ビルドの複雑さ
- ビルド時間の長さ

★まとめると、**開発効率の悪さ**がデメリットであり、
それを解消するためにDIコンテナが登場した。


## DIコンテナとは
### 特徴
- EJBに代わるコンポーネントフレームワークとして作られた。
- EJBの重量級技術を使わずに可能な限り簡単でシンプルにJ2EEアプリケーションを開発するために軽量Javaが作られ、
その中で使われている技術の一つに「DIコンテナ」がある。
- 代表的なDIコンテナ：SpringFramework, Seasar2, PicoContainer, HiveMind
- 自動で依存関係を解決(インスタンスの生成)してくれる

### メリット
- 変更に強い
    - 広範囲に影響を及ぼす変更であっても、既存コードに修正を加えることなく
      クラスの追加と設定ファイルへの記述に集約できる
- 単体テスト
    - DIによりクラス間の結合がインターフェースを介したものになるため、
      テスト対象以外のクラスにをmockにしてテストできる。
    - これによりテストの煩雑さを軽減し、再利用性を高められる。
- 他フレームワークとの連携
    - DIコンテナのフレームワークを通して他フレームワークを利用するため、
      使用するフレームワークの切り替えが容易となり、柔軟性が備わる。
### デメリット
- 設定ファイル
    - クラス間の依存性を設定ファイルに集約したことで、設定ファイルが肥大化しやすい。
    - 設定ファイルはコンパイル対象にならないXMLファイルであり、
      コンパイル時には読み込まれないため、エラーの発覚が遅れてしまう。
    − 同じ理由でJavaの長所であるプリコンパイルによる静的型付けの効果を消してしまう。

(たぶん)
→この設定ファイル問題を解決すべく作られたのがSpringの後継？である**Spring Boot**である。  
 Spring Bootは設定をXMLからJavaの記述移行し、設定ファイルを根絶しようとしている。 

## 参考
軽量Java(DIコンテナ, O/Rマッピング)
https://www.ulsystems.co.jp/topics/027

なぜDIコンテナを使うのか
https://www.atmarkit.co.jp/ait/spv/0608/10/news111.html
